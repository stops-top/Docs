
.. _pcie:

计算板卡
===============

``PCI-E`` ``边缘计算``  ``主板集成``

基于 `PCIe接口 <https://github.com/STOP-Pi/PCIE>`_ 的边缘计算型扩展板卡，用于连接终端设备进行实时处理，或者为主机设备提供环境管理支持


集成的开发调试环境，相对封闭的隔离环境，可以用于更多实用功能开发

.. note::
    显卡设备常用，可以和主板直接连接，高通信带宽，接口数量丰富，适用于计算密集场景


PCIe
-----------

编码效率
~~~~~~~~~~~

我们一般谈论的PCIE带宽，采用GT/s为单位表示，也即PCIE总线上实际编码后发送的数据速率。

因为PCIe是一条串行总线，数据中嵌入了时钟，它需要确保发生足够的电平转换（1到0和0到1），以便接收端恢复时钟。

为了增加电平转换，PCIe使用了 “8b/10b “编码，即每8个bit（1个字节）被编码成一个10 bit 的符号进行传输，然后在接收端进行解码。因此，总线需要传输10 bit的编码数据来表示所发送的8 bit的数据。而到了PCIE 3.0 标准，编码方案为128b/130b编码，也即每128 bit的数据编码为130 bit的符号进行传输。

以每条PCIe 1.0 lane 为例，PCIe是全双工的总线，一个lane由两对差分信号线，即4根信号线组成。

双向总线在每个方向上可以每秒传输 2.5 Gbit，全双工即5 Gbit, 也即全双工每秒传输 5GT/s。

由于总线每传送的8bit未编码数据需要转换为10 bit的编码数据来传送，其有效带宽为GT(Gigatransfer) x Lane的数量 x 编码方案效率

用上边 PCIe 1.0 单条 lane 单个方向的速率为例，代入数据：2.5 GT x 1 lane x (8/10 的编码方案效率) = 2Gbps ÷ 8 = 250MB/s。

而一条16通道的PCIe 1.0 总线，每秒传输 40 GT/s，有效带宽  32 Gbps，到了 PCIE 3.0, 编码方案为 128b/130b，效率得到的很大的提高。


.. note::
    PCI-E 每 lane是全双工传输，这里给出的速率是单个方向的速率

